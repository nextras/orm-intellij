<idea-plugin>
	<id>org.nextras.orm.intellij</id>
	<name>Nextras Orm</name>
	<vendor url="https://www.nextras.org">Nextras</vendor>

	<description><![CDATA[
		<p>Provides support for <a href="https://github.com/nextras/orm/">Nextras ORM</a> &ndash; an ORM library for PHP.</p>
		<br>
		<p>
			Supported features:
			<ul>
				<li>Entity modifiers highlighting - see clearly your modifiers;</li>
				<li>Entity modifiers reference contributor - renames of property changes references to it in modifiers;</li>
				<li>Entity setter & getter generator - helps you to create these methods;</li>
				<li>Collection expression auto-completion - suggests entity properties and allow relationships traversing;</li>
				<li>Collection & Repository entity type propagation - propagates specific entity types for find*, get*, and persisting methods;</li>
			</ul>
		</p>
	]]></description>

	<change-notes><![CDATA[
		<ul>
			<li>added auto completion & reference to entity properties in getValue() and getProperty() methods</li>
		</ul>
	]]></change-notes>

	<idea-version since-build="201.3119"/>

	<depends>com.intellij.modules.platform</depends>
	<depends>com.jetbrains.php</depends>

	<extensions defaultExtensionNs="com.intellij">
		<psi.referenceContributor
			language="PHP"
			implementation="org.nextras.orm.intellij.reference.OrmReferenceContributor"/>

		<completion.contributor
			language="PHP"
			implementationClass="org.nextras.orm.intellij.completion.OrmCompletionContributor"/>

		<annotator
			language="PHP"
			implementationClass="org.nextras.orm.intellij.annotator.ModifierHighlighterAnnotator"/>

		<codeInsight.lineMarkerProvider
			language="PHP"
			implementationClass="org.nextras.orm.intellij.marker.RepositoryMapperMethodMarkerProvider"/>

		<colorSettingsPage implementation="org.nextras.orm.intellij.annotator.highlighter.ModifierHighlighterSettings"/>

		<referencesSearch implementation="org.nextras.orm.intellij.reference.ReferenceSearcher"/>

		<localInspection
			language="PHP"
			implementationClass="org.nextras.orm.intellij.inspection.ReadOnlyPropertyInspection"
			shortName="NextrasOrmReadOnlyProperty"
			id="NextrasOrmReadOnlyProperty"
			displayName="Read only property check"
			groupName="Nextras"
			level="WARNING"/>
	</extensions>

	<extensions defaultExtensionNs="com.jetbrains.php">
		<typeProvider4 implementation="org.nextras.orm.intellij.typeProvider.PersistenceMethodsTypeProvider"/>
		<typeProvider4 implementation="org.nextras.orm.intellij.typeProvider.CollectionTypeProvider"/>
	</extensions>

	<actions>
		<group id="org.nextras.orm.intellij.generate">
			<add-to-group group-id="GenerateGroup" anchor="first"/>
			<action
				id="ormGenerateSettersAction"
				class="org.nextras.orm.intellij.actions.generation.GenerateSettersAction"
				text="Orm Setters..."
				description="Generate Orm setters"/>

			<action
				id="ormGenerateGettersSettersAction"
				class="org.nextras.orm.intellij.actions.generation.GenerateGettersSettersAction"
				text="Orm Getters and Setters..."
				description="Generate Orm getters and setters"/>

			<action
				id="ormGenerateGettersAction"
				class="org.nextras.orm.intellij.actions.generation.GenerateGettersAction"
				text="Orm Getters..."
				description="Generate Orm getters"/>
		</group>
	</actions>
</idea-plugin>
