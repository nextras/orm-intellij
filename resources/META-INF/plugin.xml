<idea-plugin>
	<id>org.nextras.orm.intellij</id>
	<name>Nextras Orm</name>
	<vendor url="https://www.nextras.org">Nextras</vendor>

	<description><![CDATA[
			Provides support for <a href="https://github.com/nextras/orm/">Nextras ORM</a> &ndash; an ORM library for PHP.
	]]></description>

	<change-notes><![CDATA[
		<ul>
			<li>add icons in property auto-completion</li>
			<li>better auto-completion for collection when cursor is not at the end</li>
			<li>Orm 4: HasManyCollection::toCollection() support</li>
			<li>Orm 4: [IRepository|ICollection]::getByChecked(), ::getByIdChecked() support</li>
			<li>Orm 4: embeddable support - property modifier & collection auto-completion</li>
		</ul>
	]]></change-notes>

	<idea-version since-build="193"/>

	<depends>com.intellij.modules.platform</depends>
	<depends>com.jetbrains.php</depends>

	<extensions defaultExtensionNs="com.intellij">
		<psi.referenceContributor
			language="PHP"
			implementation="org.nextras.orm.intellij.reference.OrmReferenceContributor"/>

		<completion.contributor
			language="PHP"
			implementationClass="org.nextras.orm.intellij.completion.OrmCompletionContributor"/>

		<annotator
			language="PHP"
			implementationClass="org.nextras.orm.intellij.annotator.ModifierHighlighterAnnotator"/>

		<codeInsight.lineMarkerProvider
			language="PHP"
			implementationClass="org.nextras.orm.intellij.marker.RepositoryMapperMethodMarkerProvider"/>

		<colorSettingsPage implementation="org.nextras.orm.intellij.annotator.highlighter.ModifierHighlighterSettings"/>

		<referencesSearch implementation="org.nextras.orm.intellij.reference.ReferenceSearcher"/>

		<localInspection
			language="PHP"
			implementationClass="org.nextras.orm.intellij.inspection.ReadOnlyPropertyInspection"
			shortName="NextrasOrmReadOnlyProperty"
			id="NextrasOrmReadOnlyProperty"
			displayName="Read only property check"
			groupName="Nextras"
			level="WARNING"/>
	</extensions>

	<extensions defaultExtensionNs="com.jetbrains.php">
		<typeProvider4 implementation="org.nextras.orm.intellij.typeProvider.PersistenceMethodsTypeProvider"/>
		<typeProvider4 implementation="org.nextras.orm.intellij.typeProvider.CollectionTypeProvider"/>
	</extensions>

	<actions>
		<action
			id="ormGenerateSettersAction"
			class="org.nextras.orm.intellij.actions.generation.GenerateSettersAction"
			text="ORM Setters..."
			description="Generate ORM Setters">
			<add-to-group group-id="GenerateGroup" anchor="first"/>
		</action>

		<action
			id="ormGenerateGettersSettersAction"
			class="org.nextras.orm.intellij.actions.generation.GenerateGettersSettersAction"
			text="ORM Getters and Setters..."
			description="Generate ORM Getters and Setters">
			<add-to-group group-id="GenerateGroup" anchor="first"/>
		</action>

		<action
			id="ormGenerateGettersAction"
			class="org.nextras.orm.intellij.actions.generation.GenerateGettersAction"
			text="ORM Getters..."
			description="Generate ORM Getters">
			<add-to-group group-id="GenerateGroup" anchor="first"/>
		</action>
	</actions>
</idea-plugin>
